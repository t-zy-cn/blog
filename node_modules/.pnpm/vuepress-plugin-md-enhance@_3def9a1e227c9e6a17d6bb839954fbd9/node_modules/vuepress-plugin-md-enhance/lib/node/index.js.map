{"version":3,"file":"index.js","sources":["../../src/node/markdown-it/chartjs.ts","../../src/node/markdown-it/codeDemo.ts","../../src/node/markdown-it/echarts.ts","../../src/node/markdown-it/flowchart.ts","../../src/node/markdown-it/utils.ts","../../src/node/markdown-it/playground/plugin.ts","../../src/node/markdown-it/playground/ventors/lzstring.ts","../../src/node/markdown-it/playground/ventors/optionDeclarations.ts","../../src/node/utils.ts","../../src/node/markdown-it/playground/ts.ts","../../src/node/markdown-it/playground/vue.ts","../../src/node/markdown-it/playground/uno.ts","../../src/node/markdown-it/kotlinPlayground.ts","../../src/node/markdown-it/markmap.ts","../../src/node/markdown-it/mermaid.ts","../../src/node/markdown-it/plantuml.ts","../../src/node/markdown-it/vuePlayground.ts","../../src/node/markdown-it/sandpack/utils.ts","../../src/node/markdown-it/sandpack/plugin.ts","../../src/node/compact/chart.ts","../../src/node/compact/convert.ts","../../src/node/compact/codeDemo.ts","../../src/node/compact/flowchart.ts","../../src/node/prepare/prepareConfigFile.ts","../../src/node/mdEnhancePlugin.ts"],"sourcesContent":["import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const chartjs: PluginSimple = (md) => {\n  container(md, {\n    name: \"chartjs\",\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // \"chartjs\" length\n        .slice(7)\n        .trim();\n\n      const key = `chartjs-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chartjs_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = encodeData(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = encodeData(content);\n            configType = \"js\";\n          }\n\n        // Set to an unknown token type\n        tokens[i].type = \"chartjs_empty\";\n        // Hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nimport type { CodeDemoOptions } from \"../../shared/index.js\";\n\nexport const CODE_DEMO_DEFAULT_SETTING: CodeDemoOptions = {\n  useBabel: false,\n  jsLib: [],\n  cssLib: [],\n  codepenLayout: \"left\",\n  codepenEditors: \"101\",\n  babel: \"https://unpkg.com/@babel/standalone/babel.min.js\",\n  vue: \"https://unpkg.com/vue/dist/vue.global.prod.js\",\n  react: \"https://unpkg.com/react/umd/react.production.min.js\",\n  reactDOM: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\n};\n\nconst getPlugin =\n  (name: string): PluginSimple =>\n  (md) => {\n    container(md, {\n      name,\n      openRender: (tokens: Token[], index: number): string => {\n        const title = tokens[index].info.trimStart().slice(name.length).trim();\n\n        let config = \"\";\n        const code: Record<string, string> = {};\n\n        for (let i = index; i < tokens.length; i++) {\n          const { type, content, info } = tokens[i];\n          const language = info\n            ? (/^([^ :[{]+)/.exec(md.utils.unescapeAll(info).trim())?.[1] ??\n              \"text\")\n            : \"\";\n\n          if (type === `container_${name}_close`) break;\n          if (!content) continue;\n          if (type === \"fence\")\n            if (language === \"json\") config = encodeData(content);\n            else code[language] = content;\n        }\n\n        return `<CodeDemo id=\"code-demo-${index}\" type=\"${name.split(\"-\")[0]}\"${\n          title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n        }${config ? ` config=\"${config}\"` : \"\"} code=\"${encodeData(\n          JSON.stringify(code),\n        )}\">\\n`;\n      },\n      closeRender: () => `</CodeDemo>\\n`,\n    });\n  };\n\nexport const normalDemo: PluginSimple = getPlugin(\"normal-demo\");\n\nexport const vueDemo: PluginSimple = getPlugin(\"vue-demo\");\n\nexport const reactDemo: PluginSimple = getPlugin(\"react-demo\");\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst echartsRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `echarts-${index}`;\n  const { content, info } = token;\n  const title = info.trim().split(\":\", 2)[1];\n\n  return `<ECharts id=\"${key}\" config=\"${encodeData(content)}\"${\n    title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n  }></ECharts>`;\n};\n\nexport const echarts: PluginSimple = (md) => {\n  // Handle ```echarts blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"echarts\") return echartsRender(tokens, index);\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return fence!(...args);\n  };\n\n  md.renderer.rules.echarts = echartsRender;\n\n  container(md, {\n    name: \"echarts\",\n\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'echarts' length\n        .slice(7)\n        .trim();\n\n      const key = `echarts-${index}`;\n\n      let config = \"{}\";\n      let isJavaScript = false;\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_echarts_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = content;\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = content;\n            isJavaScript = true;\n          }\n\n        // Set to an unknown token type\n        tokens[i].type = \"echarts_empty\";\n        // Hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ECharts id=\"${key}\" config=\"${encodeData(config)}\"${\n        title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n      }${isJavaScript ? ' type=\"js\"' : \"\"}>`;\n    },\n    closeRender: () => `</ECharts>`,\n  });\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst SUPPORTED_PRESETS = [\"ant\", \"pie\", \"vue\"];\n\nconst flowchartRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `flowchart-${index}`;\n  const { content, info } = token;\n  const preset = info.trim().split(\":\", 2)[1];\n\n  return `<FlowChart id=\"${key}\" code=\"${encodeData(content)}\" preset=\"${\n    SUPPORTED_PRESETS.includes(preset) ? preset : \"vue\"\n  }\"></FlowChart>`;\n};\n\nexport const flowchart: PluginSimple = (md) => {\n  // Handle ```flow and ```flowchart blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const [realInfo] = info.split(\":\", 2);\n\n    if (realInfo === \"flow\" || realInfo === \"flowchart\")\n      return flowchartRender(tokens, index);\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return fence!(...args);\n  };\n\n  md.renderer.rules.flowchart = flowchartRender;\n};\n","/**\n * @see https://spec.commonmark.org/0.29/#line-ending\n */\nexport const NEWLINES_RE = /\\r\\n?|\\n/g;\n\nexport const escapeHtml = (unsafeHTML: string): string =>\n  unsafeHTML\n    .replace(/&/gu, \"&amp;\")\n    .replace(/</gu, \"&lt;\")\n    .replace(/>/gu, \"&gt;\")\n    .replace(/\"/gu, \"&quot;\")\n    .replace(/'/gu, \"&#39;\");\n","import { entries } from \"@vuepress/helper\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.mjs\";\nimport { hash } from \"vuepress/utils\";\n\nimport type { PlaygroundData, PlaygroundOptions } from \"../../typings/index.js\";\nimport { escapeHtml } from \"../utils.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"import\", \"setting\"] as const;\n\nconst getPlaygroundRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-containers\n     */\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const containerName = params.trimStart().split(\" \", 2)[0];\n\n    const title = params.trimStart().slice(name.length).trim();\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n\n        state.src[start] === \":\" &&\n        // Closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // Check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // Closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // Make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // Found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: name is an unknown type to markdown-it\n    state.parentType = name;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0),\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n        state.src[start] === AT_MARKER &&\n        // Marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // Found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: unknown type for markdown-it\n    state.parentType = markerName;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst defaultPropsGetter = (\n  playgroundData: PlaygroundData,\n): Record<string, string> => ({\n  key: playgroundData.key,\n  title: playgroundData.title ?? \"\",\n  files: encodeURIComponent(JSON.stringify(playgroundData.files)),\n  settings: encodeURIComponent(JSON.stringify(playgroundData.settings)),\n});\n\nexport const playground: PluginWithOptions<PlaygroundOptions> = (\n  md,\n  {\n    name = \"playground\",\n    component = \"Playground\",\n    propsGetter = defaultPropsGetter,\n  } = {\n    name: \"playground\",\n    component: \"Playground\",\n    propsGetter: defaultPropsGetter,\n  },\n) => {\n  md.block.ruler.before(\"fence\", name, getPlaygroundRule(name), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // Note: Here we use an internal variable to make sure tab rule is not registered\n    // @ts-expect-error: __rules__ is a private property\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n    if (!md.block.ruler.__rules__.find(({ name }) => name === `at-${marker}`))\n      md.block.ruler.before(\"fence\", `at-${marker}`, atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[`${name}_open`] = (tokens, index): string => {\n    const { info } = tokens[index];\n\n    const playgroundData: PlaygroundData = {\n      key: hash(`playground${index}-${info}`),\n      title: encodeURIComponent(info),\n      settings: {},\n      files: {},\n    };\n\n    let currentKey: string | null = null;\n    let foundSettings = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_close`) break;\n        if (type === `${name}_open`) continue;\n\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info;\n        } else if (type === \"import_open\") {\n          playgroundData.importMap = currentKey = info || \"import-map.json\";\n        } else if (type === \"setting_open\") {\n          foundSettings = true;\n        } else if (\n          type === \"file_close\" ||\n          type === \"import_close\" ||\n          type === \"setting_close\" ||\n          !content\n        ) {\n          tokens[i].type = `${name}_empty`;\n          tokens[i].hidden = true;\n          if (type === \"setting_close\") foundSettings = false;\n          continue;\n        }\n\n        // Parse settings\n        if (foundSettings) {\n          // Handle json blocks\n          if (type === \"fence\" && info === \"json\")\n            playgroundData.settings = JSON.parse(content.trim()) as Record<\n              string,\n              unknown\n            >;\n        }\n        // Add code block content\n        else if (type === \"fence\" && currentKey) {\n          playgroundData.files[currentKey] = {\n            ext: info,\n            content,\n          };\n        }\n\n        tokens[i].type = `${name}_empty`;\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(playgroundData);\n\n    return `<${component} ${entries(props)\n      .map(([attr, value]) => `${attr}=\"${escapeHtml(value)}\"`)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[`${name}_close`] = (): string => `</${component}>\\n`;\n};\n","/**\n * Shimmed from https://github.com/pieroxy/lz-string\n */\n\n// Original license reproduced below:\n\n// DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//                     Version 2, December 2004\n//\n//  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>\n//\n//  Everyone is permitted to copy and distribute verbatim or modified\n//  copies of this license document, and changing it is allowed as long\n//  as the name is changed.\n//\n//             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n//\n//   0. You just DO WHAT THE FUCK YOU WANT TO.\n//\n\nconst e = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\n\nconst compress = (o: string, r: number, n: (pos: number) => string) => {\n  if (null == r) return \"\";\n\n  let e,\n    t,\n    i,\n    s = <Record<string, number>>{},\n    p = <Record<string, boolean>>{},\n    u = \"\",\n    c = \"\",\n    a = \"\",\n    l = 2,\n    f = 3,\n    h = 2,\n    d = [],\n    m = 0,\n    v = 0;\n\n  for (i = 0; i < o.length; i += 1)\n    if (\n      ((u = o.charAt(i)),\n      Object.prototype.hasOwnProperty.call(s, u) || ((s[u] = f++), (p[u] = !0)),\n      (c = a + u),\n      Object.prototype.hasOwnProperty.call(s, c))\n    )\n      a = c;\n    else {\n      if (Object.prototype.hasOwnProperty.call(p, a)) {\n        if (a.charCodeAt(0) < 256) {\n          for (e = 0; e < h; e++)\n            (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n          for (t = a.charCodeAt(0), e = 0; e < 8; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        } else {\n          for (t = 1, e = 0; e < h; e++)\n            (m = (m << 1) | t),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t = 0);\n          for (t = c.charCodeAt(0), e = 0; e < 16; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        }\n        0 == --l && ((l = Math.pow(2, h)), h++), delete p[a];\n      } else\n        for (t = s[a], e = 0; e < h; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      0 == --l && ((l = Math.pow(2, h)), h++), (s[c] = f++), (a = String(u));\n    }\n\n  if (\"\" !== a) {\n    if (Object.prototype.hasOwnProperty.call(p, a)) {\n      if (a.charCodeAt(0) < 256) {\n        for (e = 0; e < h; e++)\n          (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n        for (t = a.charCodeAt(0), e = 0; e < 8; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      } else {\n        for (t = 1, e = 0; e < h; e++)\n          (m = (m << 1) | t),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t = 0);\n        for (t = a.charCodeAt(0), e = 0; e < 16; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      }\n      0 == --l && ((l = Math.pow(2, h)), h++), delete p[a];\n    } else\n      for (t = s[a], e = 0; e < h; e++)\n        (m = (m << 1) | (1 & t)),\n          v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n          (t >>= 1);\n    0 == --l && ((l = Math.pow(2, h)), h++);\n  }\n\n  for (t = 2, e = 0; e < h; e++)\n    (m = (m << 1) | (1 & t)),\n      v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n      (t >>= 1);\n\n  for (;;) {\n    if (((m <<= 1), v == r - 1)) {\n      d.push(n(m));\n      break;\n    }\n    v++;\n  }\n\n  return d.join(\"\");\n};\n\nexport const compressToEncodedURIComponent = (content: string) =>\n  compress(content, 6, (pos: number) => e.charAt(pos));\n","/**\n * Note: This file needs to be updated with typescript major and minor updates\n *\n * https://www.typescriptlang.org/play\n *\n * Generated from the following code:\n *\nJSON.stringify(\n  ts.optionDeclarations.map(({ name, type }) => ({\n    name,\n    type: type instanceof Map ? Object.fromEntries(type) : type,\n  }))\n)\n *\n */\n\nexport const optionDeclarations = [\n  { name: \"help\", type: \"boolean\" },\n  { name: \"help\", type: \"boolean\" },\n  { name: \"watch\", type: \"boolean\" },\n  { name: \"preserveWatchOutput\", type: \"boolean\" },\n  { name: \"listFiles\", type: \"boolean\" },\n  { name: \"explainFiles\", type: \"boolean\" },\n  { name: \"listEmittedFiles\", type: \"boolean\" },\n  { name: \"pretty\", type: \"boolean\" },\n  { name: \"traceResolution\", type: \"boolean\" },\n  { name: \"diagnostics\", type: \"boolean\" },\n  { name: \"extendedDiagnostics\", type: \"boolean\" },\n  { name: \"generateCpuProfile\", type: \"string\" },\n  { name: \"generateTrace\", type: \"string\" },\n  { name: \"incremental\", type: \"boolean\" },\n  { name: \"declaration\", type: \"boolean\" },\n  { name: \"declarationMap\", type: \"boolean\" },\n  { name: \"emitDeclarationOnly\", type: \"boolean\" },\n  { name: \"sourceMap\", type: \"boolean\" },\n  { name: \"inlineSourceMap\", type: \"boolean\" },\n  { name: \"noCheck\", type: \"boolean\" },\n  { name: \"noEmit\", type: \"boolean\" },\n  { name: \"assumeChangesOnlyAffectDirectDependencies\", type: \"boolean\" },\n  { name: \"locale\", type: \"string\" },\n  { name: \"all\", type: \"boolean\" },\n  { name: \"version\", type: \"boolean\" },\n  { name: \"init\", type: \"boolean\" },\n  { name: \"project\", type: \"string\" },\n  { name: \"showConfig\", type: \"boolean\" },\n  { name: \"listFilesOnly\", type: \"boolean\" },\n  {\n    name: \"target\",\n    type: {\n      es3: 0,\n      es5: 1,\n      es6: 2,\n      es2015: 2,\n      es2016: 3,\n      es2017: 4,\n      es2018: 5,\n      es2019: 6,\n      es2020: 7,\n      es2021: 8,\n      es2022: 9,\n      es2023: 10,\n      es2024: 11,\n      esnext: 99,\n    },\n  },\n  {\n    name: \"module\",\n    type: {\n      none: 0,\n      commonjs: 1,\n      amd: 2,\n      system: 4,\n      umd: 3,\n      es6: 5,\n      es2015: 5,\n      es2020: 6,\n      es2022: 7,\n      esnext: 99,\n      node16: 100,\n      node18: 101,\n      nodenext: 199,\n      preserve: 200,\n    },\n  },\n  { name: \"lib\", type: \"list\" },\n  { name: \"allowJs\", type: \"boolean\" },\n  { name: \"checkJs\", type: \"boolean\" },\n  {\n    name: \"jsx\",\n    type: {\n      preserve: 1,\n      \"react-native\": 3,\n      react: 2,\n      \"react-jsx\": 4,\n      \"react-jsxdev\": 5,\n    },\n  },\n  { name: \"outFile\", type: \"string\" },\n  { name: \"outDir\", type: \"string\" },\n  { name: \"rootDir\", type: \"string\" },\n  { name: \"composite\", type: \"boolean\" },\n  { name: \"tsBuildInfoFile\", type: \"string\" },\n  { name: \"removeComments\", type: \"boolean\" },\n  { name: \"importHelpers\", type: \"boolean\" },\n  {\n    name: \"importsNotUsedAsValues\",\n    type: { remove: 0, preserve: 1, error: 2 },\n  },\n  { name: \"downlevelIteration\", type: \"boolean\" },\n  { name: \"isolatedModules\", type: \"boolean\" },\n  { name: \"verbatimModuleSyntax\", type: \"boolean\" },\n  { name: \"isolatedDeclarations\", type: \"boolean\" },\n  { name: \"erasableSyntaxOnly\", type: \"boolean\" },\n  { name: \"libReplacement\", type: \"boolean\" },\n  { name: \"strict\", type: \"boolean\" },\n  { name: \"noImplicitAny\", type: \"boolean\" },\n  { name: \"strictNullChecks\", type: \"boolean\" },\n  { name: \"strictFunctionTypes\", type: \"boolean\" },\n  { name: \"strictBindCallApply\", type: \"boolean\" },\n  { name: \"strictPropertyInitialization\", type: \"boolean\" },\n  { name: \"strictBuiltinIteratorReturn\", type: \"boolean\" },\n  { name: \"noImplicitThis\", type: \"boolean\" },\n  { name: \"useUnknownInCatchVariables\", type: \"boolean\" },\n  { name: \"alwaysStrict\", type: \"boolean\" },\n  { name: \"noUnusedLocals\", type: \"boolean\" },\n  { name: \"noUnusedParameters\", type: \"boolean\" },\n  { name: \"exactOptionalPropertyTypes\", type: \"boolean\" },\n  { name: \"noImplicitReturns\", type: \"boolean\" },\n  { name: \"noFallthroughCasesInSwitch\", type: \"boolean\" },\n  { name: \"noUncheckedIndexedAccess\", type: \"boolean\" },\n  { name: \"noImplicitOverride\", type: \"boolean\" },\n  { name: \"noPropertyAccessFromIndexSignature\", type: \"boolean\" },\n  {\n    name: \"moduleResolution\",\n    type: {\n      node10: 2,\n      node: 2,\n      classic: 1,\n      node16: 3,\n      nodenext: 99,\n      bundler: 100,\n    },\n  },\n  { name: \"baseUrl\", type: \"string\" },\n  { name: \"paths\", type: \"object\" },\n  { name: \"rootDirs\", type: \"list\" },\n  { name: \"typeRoots\", type: \"list\" },\n  { name: \"types\", type: \"list\" },\n  { name: \"allowSyntheticDefaultImports\", type: \"boolean\" },\n  { name: \"esModuleInterop\", type: \"boolean\" },\n  { name: \"preserveSymlinks\", type: \"boolean\" },\n  { name: \"allowUmdGlobalAccess\", type: \"boolean\" },\n  { name: \"moduleSuffixes\", type: \"list\" },\n  { name: \"allowImportingTsExtensions\", type: \"boolean\" },\n  { name: \"rewriteRelativeImportExtensions\", type: \"boolean\" },\n  { name: \"resolvePackageJsonExports\", type: \"boolean\" },\n  { name: \"resolvePackageJsonImports\", type: \"boolean\" },\n  { name: \"customConditions\", type: \"list\" },\n  { name: \"noUncheckedSideEffectImports\", type: \"boolean\" },\n  { name: \"sourceRoot\", type: \"string\" },\n  { name: \"mapRoot\", type: \"string\" },\n  { name: \"inlineSources\", type: \"boolean\" },\n  { name: \"experimentalDecorators\", type: \"boolean\" },\n  { name: \"emitDecoratorMetadata\", type: \"boolean\" },\n  { name: \"jsxFactory\", type: \"string\" },\n  { name: \"jsxFragmentFactory\", type: \"string\" },\n  { name: \"jsxImportSource\", type: \"string\" },\n  { name: \"resolveJsonModule\", type: \"boolean\" },\n  { name: \"allowArbitraryExtensions\", type: \"boolean\" },\n  { name: \"out\", type: \"string\" },\n  { name: \"reactNamespace\", type: \"string\" },\n  { name: \"skipDefaultLibCheck\", type: \"boolean\" },\n  { name: \"charset\", type: \"string\" },\n  { name: \"emitBOM\", type: \"boolean\" },\n  { name: \"newLine\", type: { crlf: 0, lf: 1 } },\n  { name: \"noErrorTruncation\", type: \"boolean\" },\n  { name: \"noLib\", type: \"boolean\" },\n  { name: \"noResolve\", type: \"boolean\" },\n  { name: \"stripInternal\", type: \"boolean\" },\n  { name: \"disableSizeLimit\", type: \"boolean\" },\n  { name: \"disableSourceOfProjectReferenceRedirect\", type: \"boolean\" },\n  { name: \"disableSolutionSearching\", type: \"boolean\" },\n  { name: \"disableReferencedProjectLoad\", type: \"boolean\" },\n  { name: \"noImplicitUseStrict\", type: \"boolean\" },\n  { name: \"noEmitHelpers\", type: \"boolean\" },\n  { name: \"noEmitOnError\", type: \"boolean\" },\n  { name: \"preserveConstEnums\", type: \"boolean\" },\n  { name: \"declarationDir\", type: \"string\" },\n  { name: \"skipLibCheck\", type: \"boolean\" },\n  { name: \"allowUnusedLabels\", type: \"boolean\" },\n  { name: \"allowUnreachableCode\", type: \"boolean\" },\n  { name: \"suppressExcessPropertyErrors\", type: \"boolean\" },\n  { name: \"suppressImplicitAnyIndexErrors\", type: \"boolean\" },\n  { name: \"forceConsistentCasingInFileNames\", type: \"boolean\" },\n  { name: \"maxNodeModuleJsDepth\", type: \"number\" },\n  { name: \"noStrictGenericChecks\", type: \"boolean\" },\n  { name: \"useDefineForClassFields\", type: \"boolean\" },\n  { name: \"preserveValueImports\", type: \"boolean\" },\n  { name: \"keyofStringsOnly\", type: \"boolean\" },\n  { name: \"plugins\", type: \"list\" },\n  { name: \"moduleDetection\", type: { auto: 2, legacy: 1, force: 3 } },\n  { name: \"ignoreDeprecations\", type: \"string\" },\n];\n","import { Logger, ensureEndingSlash, isModuleAvailable } from \"@vuepress/helper\";\nimport { getDirname, path } from \"vuepress/utils\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const PLUGIN_NAME = \"vuepress-plugin-md-enhance\";\n\nexport const logger = new Logger(PLUGIN_NAME);\n\nexport const CLIENT_FOLDER = ensureEndingSlash(\n  path.resolve(__dirname, \"../client\"),\n);\n\nexport const isInstalled = (pkg: string, hint = true): boolean => {\n  const isInstalled = isModuleAvailable(pkg, import.meta);\n\n  if (hint && !isInstalled)\n    logger.error(\n      `Package ${pkg} is not installed, please install it manually!`,\n    );\n\n  return isInstalled;\n};\n","import {\n  deepAssign,\n  endsWith,\n  entries,\n  isDef,\n  isPlainObject,\n  keys,\n} from \"@vuepress/helper\";\nimport type { CompilerOptions } from \"typescript\";\n\nimport { compressToEncodedURIComponent } from \"./ventors/lzstring.js\";\nimport { optionDeclarations } from \"./ventors/optionDeclarations.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  TSPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\nimport { logger } from \"../../utils.js\";\n\n/** Gets a query string representation (hash + queries) */\nexport const getURL = (\n  code: string,\n  compilerOptions: CompilerOptions = {},\n): string => {\n  const hash = `#code/${compressToEncodedURIComponent(code)}`;\n\n  const queryString = entries(compilerOptions)\n    .map(([key, value]) => {\n      const item = optionDeclarations.find((option) => option.name === key);\n\n      if (!item || value === null || !isDef(value)) return \"\";\n\n      const { type } = item;\n\n      if (isPlainObject(type)) {\n        const result = type[value as keyof typeof type];\n\n        return result?.toString() ?? \"\";\n      }\n\n      return `${key}=${encodeURIComponent(value as string)}`;\n    })\n    .filter((value) => value.length)\n    .join(\"&\");\n\n  return `${queryString ? `?${queryString}` : \"\"}${hash}`;\n};\n\nexport const getTSPlaygroundPreset = ({\n  service = \"https://www.typescriptlang.org/play\",\n  ...compilerOptions\n}: TSPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#ts\",\n  propsGetter: ({\n    title = \"\",\n    files,\n    settings,\n  }: PlaygroundData): Record<string, string> => {\n    const tsFiles = keys(files).filter((key) => endsWith(key, \".ts\"));\n\n    if (tsFiles.length !== 1)\n      logger.error(\"TS playground only support 1 ts file\");\n\n    const link = `${service}${getURL(\n      files[tsFiles[0]].content,\n      deepAssign(\n        {},\n        settings as CompilerOptions,\n        compilerOptions as CompilerOptions,\n      ),\n    )}`;\n\n    return {\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { deepAssign, entries, fromEntries } from \"@vuepress/helper\";\n\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  VuePresetPlaygroundOptions,\n} from \"../../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst DEFAULT_VUE_CDN = \"https://sfc.vuejs.org/vue.runtime.esm-browser.js\";\nconst DEFAULT_VUE_SERVER_RENDERER_CDN =\n  \"https://sfc.vuejs.org/server-renderer.esm-browser.js\";\n\nexport const getVuePlaygroundPreset = (\n  options: VuePresetPlaygroundOptions = {},\n): PlaygroundOptions => ({\n  name: \"playground#vue\",\n  propsGetter: (playgroundData: PlaygroundData): Record<string, string> => {\n    const { title = \"\", files, settings: localSettings } = playgroundData;\n    const settings = {\n      // Defaults\n      service: \"https://sfc.vuejs.org/\",\n      dev: false,\n      ssr: false,\n      ...options,\n      ...localSettings,\n    };\n\n    const fileInfo = fromEntries(\n      entries(files)\n        .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n        .map(([key, { content }]) => {\n          if (key === \"import-map.json\") {\n            const importMap = JSON.parse(content) as {\n              imports: Record<string, string>;\n              scopes?: Record<string, Record<string, string>>;\n            };\n\n            return [\n              key,\n              JSON.stringify(\n                deepAssign(\n                  {\n                    imports: {\n                      // Insure vue exists\n                      vue: DEFAULT_VUE_CDN,\n                      // Insure vue/server-renderer exists\n                      ...(settings.ssr\n                        ? {\n                            // eslint-disable-next-line @typescript-eslint/naming-convention\n                            \"vue/server-renderer\":\n                              DEFAULT_VUE_SERVER_RENDERER_CDN,\n                          }\n                        : {}),\n                    },\n                  },\n                  importMap,\n                ),\n                null,\n                2,\n              ),\n            ];\n          }\n\n          return [key, content];\n        }),\n    );\n\n    if (settings.ssr && !fileInfo[\"import-map.json\"])\n      fileInfo[\"import-map.json\"] = JSON.stringify(\n        {\n          imports: {\n            vue: DEFAULT_VUE_CDN,\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            \"vue/server-renderer\": DEFAULT_VUE_SERVER_RENDERER_CDN,\n          },\n        },\n        null,\n        2,\n      );\n\n    return {\n      title,\n      link: encodeURIComponent(\n        `${settings.service}#${\n          // Dev flag\n          settings.dev ? \"__DEV__\" : \"\"\n        }${\n          // Ssr flag\n          settings.ssr ? \"__SSR__\" : \"\"\n        }${\n          // Code base64\n          Buffer.from(JSON.stringify(fileInfo)).toString(\"base64\")\n        }`,\n      ),\n    };\n  },\n});\n","import { endsWith, keys } from \"@vuepress/helper\";\n\nimport { compressToEncodedURIComponent as encode } from \"./ventors/lzstring.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  UnoPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\nimport { logger } from \"../../utils.js\";\n\n/** Gets a query string representation (hash + queries) */\nconst getUrlJoinParam = (key: string, value: string, sign = \"&\"): string => {\n  if (value) return `${sign}${key}=${encode(value)}`;\n\n  return \"\";\n};\n\nexport const generateUnoURL = (\n  service: string,\n  inputHTML: string,\n  customCSS: string,\n  customConfigRaw: string,\n): string => {\n  const params = `/${getUrlJoinParam(\"html\", inputHTML, \"?\")}${getUrlJoinParam(\n    \"config\",\n    customConfigRaw,\n  )}${getUrlJoinParam(\"css\", customCSS)}`;\n\n  return `${service}${params}`;\n};\n\nexport const getUnoPlaygroundPreset = ({\n  service = \"https://unocss.dev/play\",\n}: UnoPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#unocss\",\n  propsGetter: ({\n    title = \"\",\n    files,\n  }: PlaygroundData): Record<string, string> => {\n    const htmlFiles = keys(files).filter((key) => endsWith(key, \".html\"));\n    const cssFiles = keys(files).filter((key) => endsWith(key, \".css\"));\n    const configFiles = keys(files).filter(\n      (key) => endsWith(key, \".js\") || endsWith(key, \".ts\"),\n    );\n\n    if (htmlFiles.length > 1 || cssFiles.length > 1 || configFiles.length > 1)\n      logger.error(\"UnoCSS playground only support 1 html/css/config file\");\n\n    const simplifyParam = (inputFiles: string[]): string =>\n      inputFiles.length === 1 ? files[inputFiles[0]].content : \"\";\n\n    const link = generateUnoURL(\n      service,\n      simplifyParam(htmlFiles),\n      simplifyParam(cssFiles),\n      simplifyParam(configFiles),\n    );\n\n    return {\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { encodeData, entries } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport type { PlaygroundData } from \"../typings/index.js\";\nimport { playground } from \"./playground/index.js\";\n\nexport const kotlinPlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"kotlin-playground\",\n    component: \"KotlinPlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings)),\n      files: encodeData(\n        JSON.stringify(entries(files).map(([, { content }]) => content)),\n      ),\n    }),\n  });\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst markmapRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `markmap-${index}`;\n  const { content } = token;\n\n  return `<MarkMap id=\"${key}\" content=\"${encodeData(content)}\"></MarkMap>`;\n};\n\nexport const markmap: PluginSimple = (md) => {\n  // Handle ```markmap blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const [realInfo] = info.split(\":\", 2);\n\n    if (realInfo === \"markmap\") return markmapRender(tokens, index);\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return fence!(...args);\n  };\n\n  md.renderer.rules.markmap = markmapRender;\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RenderRule } from \"markdown-it/lib/renderer.mjs\";\n\nconst mermaidRenderer: RenderRule = (tokens, index) =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${encodeData(\n    tokens[index].content,\n  )}\"></Mermaid>`;\n\ninterface MermaidOptions {\n  content: string;\n  diagram?: string;\n  title?: string;\n  indent?: boolean;\n}\n\nexport const getMermaidContent = ({\n  diagram = \"mermaid\",\n  content,\n  title = \"\",\n  indent = diagram !== \"mermaid\",\n}: MermaidOptions): string => {\n  const [, originalFrontmatter, rest] =\n    /^\\s*---\\n([^]*?)\\n---\\n\\n([\\s\\S]*)\\s*$/m.exec(content) ?? [\n      null,\n      \"\",\n      content,\n    ];\n\n  const frontmatter = (\n    !title || /^title:\\s*(.*)/m.test(originalFrontmatter)\n      ? originalFrontmatter\n      : `title: ${title}\\n${originalFrontmatter}`\n  ).trim();\n\n  return `\\\n${\n  frontmatter\n    ? `\\\n---\n${frontmatter}\n---\n\n`\n    : \"\"\n}\\\n${\n  diagram === \"mermaid\"\n    ? \"\"\n    : `\\\n${diagram}\n`\n}\\\n${\n  indent\n    ? rest\n        .split(\"\\n\")\n        .map((line) => (line ? `  ${line}` : \"\"))\n        .join(\"\\n\")\n    : rest\n}\\\n`;\n};\n\nconst getMermaid = (options: MermaidOptions, index: number): string =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${encodeData(getMermaidContent(options))}\"${\n    options.title ? ` title=\"${encodeData(options.title)}\"` : \"\"\n  }></Mermaid>`;\n\nconst DIAGRAM_MAP: Record<string, [diagramName: string, indent?: boolean]> = {\n  class: [\"classDiagram\"],\n  c4c: [\"C4Context\"],\n  er: [\"erDiagram\"],\n  gantt: [\"\"],\n  \"git-graph\": [\"gitGraph\"],\n  journey: [\"\"],\n  mindmap: [\"\"],\n  kanban: [\"\"],\n  pie: [\"\"],\n  quadrant: [\"quadrantChart\"],\n  requirement: [\"requirementDiagram\"],\n  sequence: [\"sequenceDiagram\"],\n  state: [\"stateDiagram-v2\"],\n  timeline: [\"\"],\n\n  // beta diagrams\n  architecture: [\"architecture-beta\"],\n  block: [\"block-beta\", false],\n  packet: [\"packet-beta\", false],\n  sankey: [\"sankey-beta\", false],\n  xy: [\"xychart-beta\", false],\n  radar: [\"radar-beta\"],\n};\n\nexport const mermaid: PluginSimple = (md) => {\n  // Handle ```mermaid blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { content, info } = tokens[index];\n\n    const fenceInfo = info.trim();\n\n    if (fenceInfo === \"mermaid\")\n      return getMermaid({ content, indent: false }, index);\n\n    const [name, ...rest] = fenceInfo.split(\" \");\n\n    if (name in DIAGRAM_MAP)\n      return getMermaid(\n        {\n          diagram: DIAGRAM_MAP[name][0] || name,\n          title: rest.join(\" \"),\n          content,\n          indent: DIAGRAM_MAP[name][1] ?? true,\n        },\n        index,\n      );\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return fence!(...args);\n  };\n\n  md.renderer.rules.mermaid = mermaidRenderer;\n};\n","import type { MarkdownItPlantumlOptions } from \"@mdit/plugin-plantuml\";\nimport { plantuml as _plantuml } from \"@mdit/plugin-plantuml\";\nimport type { PluginWithOptions } from \"markdown-it\";\n\nexport const plantuml: PluginWithOptions<MarkdownItPlantumlOptions[]> = (\n  md,\n  options = [\n    \"chronology\",\n    \"gantt\",\n    \"json\",\n    \"latex\",\n    \"math\",\n    \"mindmap\",\n    \"regex\",\n    \"salt\",\n    \"uml\",\n    \"wbs\",\n    \"yaml\",\n  ].map((name) => ({ name })),\n) => {\n  options.forEach((option) => {\n    md.use(_plantuml, option);\n  });\n};\n","import { entries, fromEntries } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport type { PlaygroundData } from \"../typings/index.js\";\nimport { playground } from \"./playground/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst encodeFiles = (files: PlaygroundData[\"files\"]): string =>\n  Buffer.from(\n    JSON.stringify(\n      fromEntries(\n        entries(files)\n          .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n          .map(([key, { content }]) => [key, content]),\n      ),\n    ),\n  ).toString(\"base64\");\n\nexport const vuePlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"vue-playground\",\n    component: \"VuePlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings)),\n      files: encodeURIComponent(encodeFiles(files)),\n    }),\n  });\n};\n","import { entries, fromEntries } from \"@vuepress/helper\";\n\nimport type { SandpackData } from \"../../typings/index.js\";\n\nexport const encodeFiles = (files: SandpackData[\"files\"]): string =>\n  JSON.stringify(\n    fromEntries(\n      entries(files).map(([key, file]) => [\n        key,\n        typeof file === \"string\"\n          ? file\n          : file.active || file.hidden || file.readOnly\n            ? file\n            : file.code,\n      ]),\n    ),\n  );\n\nexport const getAttrs = (str: string): Record<string, string> => {\n  const matches = /.*(?<!\\\\)\\[([^}]*)\\].*/.exec(str); // [attr1 attr2]\n\n  if (matches?.[1]) {\n    const arrAttrs = matches[1].split(\" \");\n\n    return fromEntries(\n      arrAttrs\n        .filter((attr) => attr.trim().length > 0)\n        .map((attr) => {\n          const [key, value = \"\"] = attr.trim().split(\"=\", 2);\n\n          return [key, value];\n        }),\n    );\n  }\n\n  return {};\n};\n","import { encodeData, entries, keys } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.mjs\";\nimport type {\n  SandpackFile,\n  SandpackOptions,\n  SandpackPredefinedTemplate,\n  SandpackSetup,\n} from \"sandpack-vue3\";\n\nimport { encodeFiles, getAttrs } from \"./utils.js\";\nimport type { SandpackData } from \"../../typings/index.js\";\nimport { escapeHtml } from \"../utils.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"options\", \"setup\"] as const;\n\nconst propsGetter = (sandpackData: SandpackData): Record<string, string> => ({\n  title: sandpackData.title ?? \"\",\n  template: sandpackData.template ?? \"\",\n  files: encodeData(encodeFiles(sandpackData.files)),\n  options: encodeData(JSON.stringify(sandpackData.options ?? {})),\n  customSetup: encodeData(JSON.stringify(sandpackData.customSetup ?? {})),\n});\n\nconst jsRunner = (jsCode: string): unknown =>\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  (new Function(`return ${jsCode};`) as () => unknown)();\n\nconst sandpackRule: RuleBlock = (state, startLine, endLine, silent) => {\n  let start = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n\n  /*\n   * Check out the first character quickly,\n   * this should filter out most of non-containers\n   */\n  if (state.src[start] !== \":\") return false;\n\n  let pos = start + 1;\n\n  // Check out the rest of the marker string\n  while (pos <= max) {\n    if (state.src[pos] !== \":\") break;\n    pos += 1;\n  }\n\n  const markerCount = pos - start;\n\n  if (markerCount < 3) return false;\n\n  const markup = state.src.slice(start, pos);\n  const params = state.src.slice(pos, max);\n\n  const content = params.trim();\n  const firstSpace = content.indexOf(\" \");\n  let containerName = \"\";\n  let title = \"\";\n\n  if (firstSpace > 0) {\n    containerName = content.substring(0, firstSpace);\n    // Remove attrs\n    title = content\n      .substring(firstSpace + 1)\n      .replace(/(?<!\\\\)\\[([^}]*)\\]/g, \"\");\n  } else {\n    containerName = content;\n  }\n\n  if (!containerName.startsWith(\"sandpack\")) return false;\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) return true;\n\n  // Search for the end of the block\n  let nextLine = startLine;\n  let autoClosed = false;\n\n  // Search for the end of the block\n  while (\n    /*\n     * Unclosed block should be auto closed by end of document.\n     * also block seems to be auto closed by end of parent\n     */\n    nextLine < endLine\n  ) {\n    nextLine += 1;\n    start = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (start < max && state.sCount[nextLine] < state.blkIndent)\n      /*\n       * Non-empty line with negative indent should stop the list:\n       * - ```\n       *  test\n       */\n      break;\n\n    if (\n      // Match start\n\n      state.src[start] === \":\" &&\n      // Closing fence should be indented less than 4 spaces\n      state.sCount[nextLine] - state.blkIndent < 4\n    ) {\n      // Check rest of marker\n      for (pos = start + 1; pos <= max; pos++)\n        if (state.src[pos] !== \":\") break;\n\n      // Closing code fence must be at least as long as the opening one\n      if (pos - start >= markerCount) {\n        // Make sure tail has spaces only\n        pos = state.skipSpaces(pos);\n\n        if (pos >= max) {\n          // Found!\n          autoClosed = true;\n          break;\n        }\n      }\n    }\n  }\n\n  const oldParent = state.parentType;\n  const oldLineMax = state.lineMax;\n\n  // @ts-expect-error: sandpack is an unknown type to markdown-it\n  state.parentType = \"sandpack\";\n\n  // This will prevent lazy continuations from ever going past our end marker\n  state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n  const openToken = state.push(\"sandpack_open\", \"template\", 1);\n\n  openToken.markup = markup;\n  openToken.content = content;\n  openToken.block = true;\n  openToken.info = title;\n  openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n  state.md.block.tokenize(\n    state,\n    startLine + 1,\n    nextLine - (autoClosed ? 1 : 0),\n  );\n\n  const closeToken = state.push(\"sandpack_close\", \"template\", -1);\n\n  closeToken.markup = state.src.slice(start, pos);\n  closeToken.block = true;\n\n  state.parentType = oldParent;\n  state.lineMax = oldLineMax;\n  state.line = nextLine + (autoClosed ? 1 : 0);\n\n  return true;\n};\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n        state.src[start] === AT_MARKER &&\n        // Marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // Found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: unknown type to markdown-it\n    state.parentType = markerName;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nexport const sandpack: PluginSimple = (md) => {\n  md.block.ruler.before(\"fence\", \"sandpack\", sandpackRule, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // Note: Here we use an internal variable to make sure tab rule is not registered\n    // @ts-expect-error: __rules__ is a private property\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n    if (!md.block.ruler.__rules__.find(({ name }) => name === `at-${marker}`))\n      md.block.ruler.before(\"fence\", `at-${marker}`, atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules.sandpack_open = (tokens, index): string => {\n    const { content, info } = tokens[index];\n\n    const attrs = getAttrs(content);\n\n    const sandpackData: SandpackData = {\n      title: encodeURIComponent(info),\n      files: {},\n      options: {},\n      customSetup: {},\n    };\n\n    const containerName = content.split(\" \", 2)[0].trim();\n    const arr = containerName.split(\"#\");\n\n    if (arr.length > 1)\n      sandpackData.template = arr[1] as SandpackPredefinedTemplate;\n\n    let currentKey: string | null = null;\n    let foundOptions = false;\n    let foundSetup = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === \"sandpack_close\") break;\n        if (type === \"sandpack_open\") continue;\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info.trim().split(\" \")[0];\n\n          const fileAttrs = getAttrs(info);\n\n          sandpackData.files[currentKey] = {\n            code: \"\",\n            active: \"active\" in fileAttrs,\n            hidden: \"hidden\" in fileAttrs,\n            readOnly: \"readOnly\" in fileAttrs,\n          };\n        } else if (\n          type === \"file_close\" ||\n          type === \"setup_open\" ||\n          type === \"options_open\"\n        ) {\n          currentKey = null;\n        }\n\n        if (type === \"setup_open\") foundSetup = true;\n        else if (type === \"setup_close\") foundSetup = false;\n        else if (type === \"options_open\") foundOptions = true;\n        else if (type === \"options_close\") foundOptions = false;\n\n        if (\n          type === \"file_close\" ||\n          type === \"setup_close\" ||\n          type === \"options_close\" ||\n          !content\n        ) {\n          tokens[i].type = \"sandpack_empty\";\n          tokens[i].hidden = true;\n          continue;\n        }\n\n        // Parse options\n        if (foundOptions) {\n          if (type === \"fence\" && (info === \"js\" || info === \"javascript\"))\n            sandpackData.options = jsRunner(content.trim()) as SandpackOptions;\n\n          foundOptions = false;\n        }\n\n        // Parse setup\n        if (foundSetup) {\n          if (type === \"fence\" && (info === \"js\" || info === \"javascript\"))\n            sandpackData.customSetup = jsRunner(\n              content.trim(),\n            ) as SandpackSetup;\n\n          foundSetup = false;\n        }\n\n        // Add code block content\n        if (type === \"fence\" && currentKey)\n          (sandpackData.files[currentKey] as SandpackFile).code = content;\n\n        tokens[i].type = \"sandpack_empty\";\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(sandpackData);\n\n    return `<SandPack ${\n      keys(attrs).length\n        ? `${entries(attrs)\n            .map(([attr, value]) =>\n              value ? `${attr}=\"${escapeHtml(value)}\"` : attr,\n            )\n            .join(\" \")} `\n        : \"\"\n    }${entries(props)\n      .map(([attr, value]) => (value ? `${attr}=\"${escapeHtml(value)}\"` : null))\n      .filter(Boolean)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules.sandpack_close = (): string => `</SandPack>\\n`;\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\n\nimport { logger } from \"../utils.js\";\n\nexport const chart: PluginSimple = (md) => {\n  container(md, {\n    name: \"chart\",\n    openRender: (tokens, index, _options, env: MarkdownEnv) => {\n      logger.warn(\n        `chart container is deprecated, use chartjs container instead${env.filePathRelative ? ` found in ${env.filePathRelative}` : \"\"}.`,\n      );\n\n      const title = tokens[index].info\n        .trimStart()\n        // \"chart\" length\n        .slice(5)\n        .trim();\n\n      const key = `chart-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chart_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = encodeData(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = encodeData(content);\n            configType = \"js\";\n          }\n\n        // Set to an unknown token type\n        tokens[i].type = \"chart_empty\";\n        // Hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","import { isPlainObject } from \"@vuepress/helper\";\nimport { colors } from \"vuepress/utils\";\nimport { createConverter } from \"vuepress-shared/node\";\n\nimport type { MarkdownEnhancePluginOptions } from \"../options.js\";\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const convertOptions = (\n  options: MarkdownEnhancePluginOptions & Record<string, unknown>,\n): void => {\n  const { deprecatedLogger, droppedLogger } = createConverter(\"md-enhance\");\n\n  deprecatedLogger({\n    options,\n    old: \"chart\",\n    new: \"chartjs\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"enableAll\",\n    msg: \"Please manually enable the features you need.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imageFix\",\n    msg: \"This option is no longer needed.\",\n  });\n  droppedLogger({\n    options,\n    old: \"lineNumbers\",\n    msg: \"Please use lineNumbers option in @vuepress/plugin-prismjs or @vuepress/plugin-shiki !\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"alert\",\n    msg: \"Please use alert option in @vuepress/plugin-markdown-hint instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"container\",\n    msg: \"Please use hint option in @vuepress/plugin-markdown-hint instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"hint\",\n    msg: \"Please use hint option in @vuepress/plugin-markdown-hint instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"mdImport\",\n    msg: \"Please use @vuepress/plugin-markdown-include instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"include\",\n    msg: \"Please use @vuepress/plugin-markdown-include instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"imageTitle\",\n    msg: \"Please use figure option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"figure\",\n    msg: \"Please use figure option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imageMark\",\n    msg: \"Please use mark option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imgMark\",\n    msg: \"Please use mark option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imgSize\",\n    msg: \"Please use size option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imageSize\",\n    msg: \"Please use size option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"lazyload\",\n    msg: \"Please use lazyload option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imageLazyload\",\n    msg: \"Please use lazyload option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"imgLazyload\",\n    msg: \"Please use lazyload option in @vuepress/plugin-markdown-image instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"obsidianImgSize\",\n    msg: \"Please use obsidianSize option in @vuepress/plugin-markdown-image instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"linkCheck\",\n    msg: \"Please use @vuepress/plugin-links-check instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"checkLinks\",\n    msg: \"Please use @vuepress/plugin-links-check instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"tex\",\n    msg: \"Please use @vuepress/plugin-markdown-math instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"katex\",\n    msg: \"Please use @vuepress/plugin-markdown-math instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"mathjax\",\n    msg: \"Please use @vuepress/plugin-markdown-math instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"revealjs\",\n    msg: \"Please use @vuepress/plugin-revealjs instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"revealJs\",\n    msg: \"Please use @vuepress/plugin-revealjs instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"presentation\",\n    msg: \"Please use @vuepress/plugin-revealjs instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"codegroup\",\n    msg: \"Please use codeTabs option in @vuepress/plugin-markdown-tab instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"codetabs\",\n    msg: \"Please use codeTabs option in @vuepress/plugin-markdown-tab instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"tabs\",\n    msg: \"Please use tabs option in @vuepress/plugin-markdown-tab instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"vpre\",\n    msg: \"Please use vPre option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"vPre\",\n    msg: \"Please use vPre option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"breaks\",\n    msg: \"Please use breaks option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"linkify\",\n    msg: \"Please use linkify option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"gfm\",\n    msg: \"Please use gfm option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"footnote\",\n    msg: \"Please use footnote option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"tasklist\",\n    msg: \"Please use tasklist option in @vuepress/plugin-markdown-ext instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"component\",\n    msg: \"Please use component option in @vuepress/plugin-markdown-ext instead.\",\n  });\n\n  droppedLogger({\n    options,\n    old: \"align\",\n    msg: \"Please use align option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"attrs\",\n    msg: \"Please use attrs option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"mark\",\n    msg: \"Please use mark option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"spoiler\",\n    msg: \"Please use spoiler option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"sub\",\n    msg: \"Please use sub option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"sup\",\n    msg: \"Please use sup option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"stylize\",\n    msg: \"Please use custom option in @vuepress/plugin-markdown-stylize instead.\",\n  });\n\n  if (options.card)\n    logger.error(\n      `${colors.magenta(\"card\")} is deprecated, please import  ${colors.magenta(\n        \"VPCard\",\n      )} from \"vuepress-plugin-components\" and use it instead.`,\n    );\n\n  if (isPlainObject(options.mermaid)) {\n    logger.error(\n      `Customizing mermaid with option ${colors.magenta(\n        \"mermaid\",\n      )} is no longer supported, please import and use ${colors.magenta(\n        \"defineMermaidConfig\",\n      )} from ${colors.magenta(\"vuepress-plugin-md-enhance/client\")} instead.`,\n    );\n    options.mermaid = true;\n  }\n\n  if (isPlainObject(options.vuePlayground)) {\n    logger.error(\n      `Customizing @vue/repl with option ${colors.magenta(\n        \"vuePlayground\",\n      )} is no longer supported, please import and use ${colors.magenta(\n        \"defineVuePlaygroundConfig\",\n      )} from ${colors.magenta(\"vuepress-plugin-md-enhance/client\")} instead.`,\n    );\n    options.vuePlayground = true;\n  }\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { demo } from \"@mdit/plugin-demo\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nimport { escapeHtml } from \"../markdown-it/utils.js\";\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const legacyCodeDemo: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"demo\",\n    openRender: (tokens: Token[], index: number): string => {\n      logger.warn(\n        \"demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.\",\n      );\n\n      const { info } = tokens[index];\n      const type = /\\[(.*)\\]/u.exec(info);\n      const title = /^ demo\\s*(?:\\[.*?\\])?\\s*(.*)\\s*$/u.exec(info);\n\n      let config = \"\";\n      const code: Record<string, string> = {};\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n        const language = info\n          ? (/^([^ :[{]+)/.exec(md.utils.unescapeAll(info).trim())?.[1] ??\n            \"text\")\n          : \"\";\n\n        if (type === `container_demo_close`) break;\n        if (!content) continue;\n        if (type === \"fence\")\n          if (language === \"json\") config = encodeData(content);\n          else code[language] = content;\n      }\n\n      return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${type?.[1] ?? \"normal\"}\"${\n        title ? ` title=\"${encodeURIComponent(title[1])}\"` : \"\"\n      }${config ? ` config=\"${config}\"` : \"\"} code=\"${encodeData(\n        JSON.stringify(code),\n      )}\">\n`;\n    },\n    closeRender: () => `</CodeDemo>`,\n  });\n};\n\n/** @deprecated */\nexport const mdDemo: PluginSimple = (md) => {\n  md.use(demo, {\n    name: \"md-demo\",\n    openRender: (tokens, index) => {\n      logger.warn(\n        \"md-demo container is deprecated, you should use preview container instead.\",\n      );\n\n      return `<MdDemo title=\"${escapeHtml(\n        tokens[index].info,\n      )}\" id=\"md-demo-${index}\">\\n`;\n    },\n    codeRender: (tokens, index, options, _env, self) =>\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      `<template #code>\\n${self.rules.fence!(\n        tokens,\n        index,\n        options,\n        _env,\n        self,\n      )}</template>\\n`,\n    contentOpenRender: () => `<template #default>\\n`,\n    contentCloseRender: () => `</template>\\n`,\n    closeRender: () => \"</MdDemo>\\n\",\n  });\n};\n","import { uml } from \"@mdit/plugin-uml\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport { logger } from \"vuepress/utils\";\n\n/** @deprecated */\nexport const legacyFlowchart: PluginSimple = (md) => {\n  uml(md, {\n    name: \"flowchart\",\n    open: \"flowstart\",\n    close: \"flowend\",\n    render: (tokens, index): string => {\n      logger.warn(\n        '\"@flowstart ... @flowend\" is deprecated, you should use ```flow ... ``` instead.',\n      );\n\n      const token = tokens[index];\n      const key = `flowchart-${index}`;\n      const { content, info } = token;\n\n      return `<FlowChart id=\"${key}\" code=\"${encodeData(content)}\" preset=\"${\n        info.trim() || \"vue\"\n      }\"></FlowChart>`;\n    },\n  });\n};\n","import type { App } from \"vuepress/core\";\n\nimport type { MarkdownEnhancePluginOptions } from \"../options.js\";\nimport { CLIENT_FOLDER } from \"../utils.js\";\n\nexport const prepareConfigFile = async (\n  app: App,\n  options: MarkdownEnhancePluginOptions,\n  status: Record<string, boolean>,\n  legacy = false,\n): Promise<string> => {\n  const imports = new Set<string>();\n  const enhances = new Set<string>();\n\n  if (status.chartjs) {\n    imports.add(`import ChartJS from \"${CLIENT_FOLDER}components/ChartJS.js\";`);\n    enhances.add(`app.component(\"ChartJS\", ChartJS)`);\n  }\n\n  if (options.demo) {\n    imports.add(\n      `import CodeDemo from \"${CLIENT_FOLDER}components/CodeDemo.js\";`,\n    );\n    enhances.add(`app.component(\"CodeDemo\", CodeDemo);`);\n\n    if (legacy) {\n      imports.add(`import MdDemo from \"${CLIENT_FOLDER}components/MdDemo.js\";`);\n      enhances.add(`app.component(\"MdDemo\", MdDemo);`);\n    }\n  }\n\n  if (status.echarts) {\n    imports.add(`import ECharts from \"${CLIENT_FOLDER}components/ECharts.js\";`);\n    enhances.add(`app.component(\"ECharts\", ECharts);`);\n  }\n\n  if (status.flowchart) {\n    imports.add(\n      `import FlowChart from \"${CLIENT_FOLDER}components/FlowChart.js\";`,\n    );\n\n    enhances.add(`app.component(\"FlowChart\", FlowChart);`);\n  }\n\n  if (status.kotlinPlayground) {\n    imports.add(\n      `import KotlinPlayground from \"${CLIENT_FOLDER}components/KotlinPlayground.js\";`,\n    );\n    enhances.add(`app.component(\"KotlinPlayground\", KotlinPlayground);`);\n  }\n\n  if (status.markmap) {\n    imports.add(`import MarkMap from \"${CLIENT_FOLDER}components/MarkMap.js\";`);\n    enhances.add(`app.component(\"MarkMap\", MarkMap);`);\n  }\n\n  if (status.mermaid) {\n    imports.add(`import Mermaid from \"${CLIENT_FOLDER}components/Mermaid.js\";`);\n    enhances.add(`app.component(\"Mermaid\", Mermaid);`);\n  }\n\n  if (options.playground) {\n    imports.add(\n      `import Playground from \"${CLIENT_FOLDER}components/Playground.js\";`,\n    );\n    enhances.add(`app.component(\"Playground\", Playground);`);\n  }\n\n  if (status.sandpack) {\n    imports.add(\n      `import SandPack from \"${CLIENT_FOLDER}components/SandPack.js\";`,\n    );\n\n    enhances.add(`app.component(\"SandPack\", SandPack);`);\n  }\n\n  if (status.vuePlayground) {\n    imports.add(\n      `import VuePlayground from \"${CLIENT_FOLDER}components/VuePlayground.js\";`,\n    );\n    enhances.add(`app.component(\"VuePlayground\", VuePlayground);`);\n  }\n\n  return app.writeTemp(\n    `md-enhance/config.js`,\n    `\\\n${Array.from(imports.values()).join(\"\\n\")}\n\nexport default {\n  enhance: ({ app }) => {\n${Array.from(enhances.values())\n  .map((item) => item.split(\"\\n\").map((line) => `    ${line}`))\n  .flat()\n  .join(\"\\n\")}\n  },\n};\n`,\n  );\n};\n","import {\n  addViteOptimizeDepsExclude,\n  addViteOptimizeDepsInclude,\n  addViteOptimizeDepsNeedsInterop,\n  addViteSsrExternal,\n  addViteSsrNoExternal,\n  chainWebpack,\n  isArray,\n  isPlainObject,\n} from \"@vuepress/helper\";\nimport { useSassPalettePlugin } from \"@vuepress/plugin-sass-palette\";\nimport type { PluginFunction } from \"vuepress/core\";\n\nimport {\n  chart,\n  convertOptions,\n  legacyCodeDemo,\n  legacyFlowchart,\n  mdDemo,\n} from \"./compact/index.js\";\nimport {\n  CODE_DEMO_DEFAULT_SETTING,\n  chartjs,\n  echarts,\n  flowchart,\n  getTSPlaygroundPreset,\n  getUnoPlaygroundPreset,\n  getVuePlaygroundPreset,\n  kotlinPlayground,\n  markmap,\n  mermaid,\n  normalDemo,\n  plantuml,\n  playground,\n  reactDemo,\n  sandpack,\n  vueDemo,\n  vuePlayground,\n} from \"./markdown-it/index.js\";\nimport type { MarkdownEnhancePluginOptions } from \"./options.js\";\nimport { prepareConfigFile } from \"./prepare/index.js\";\nimport { PLUGIN_NAME, isInstalled, logger } from \"./utils.js\";\n\nexport const mdEnhancePlugin =\n  (options: MarkdownEnhancePluginOptions = {}, legacy = true): PluginFunction =>\n  (app) => {\n    // TODO: Remove this in v2 stable\n    if (legacy)\n      // eslint-disable-next-line @typescript-eslint/no-deprecated\n      convertOptions(\n        options as MarkdownEnhancePluginOptions & Record<string, unknown>,\n      );\n\n    if (app.env.isDebug) logger.info(\"Options:\", options);\n\n    const getStatus = (\n      key: keyof MarkdownEnhancePluginOptions,\n      pkgs: string[] = [],\n    ): boolean =>\n      Boolean(options[key]) &&\n      pkgs.every((pkg) => isInstalled(pkg, Boolean(options[key])));\n\n    const status = {\n      chartjs: getStatus(\"chartjs\", [\"chart.js\"]),\n      echarts: getStatus(\"echarts\", [\"echarts\"]),\n      flowchart: getStatus(\"flowchart\", [\"flowchart.ts\"]),\n      mark: getStatus(\"mark\"),\n      markmap: getStatus(\"markmap\", [\n        \"markmap-lib\",\n        \"markmap-toolbar\",\n        \"markmap-view\",\n      ]),\n      mermaid: getStatus(\"mermaid\", [\"mermaid\"]),\n      kotlinPlayground: getStatus(\"kotlinPlayground\", [\"kotlin-playground\"]),\n      sandpack: getStatus(\"sandpack\", [\"sandpack-vue3\"]),\n      vuePlayground: getStatus(\"vuePlayground\", [\"@vue/repl\"]),\n    };\n\n    useSassPalettePlugin(app, { id: \"hope\" });\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: (): Record<string, unknown> => ({\n        CODE_DEMO_OPTIONS: {\n          ...CODE_DEMO_DEFAULT_SETTING,\n          ...(isPlainObject(options.demo) ? options.demo : {}),\n        },\n        VUE_PLAYGROUND_MONACO:\n          isPlainObject(options.vuePlayground) &&\n          options.vuePlayground.editor === \"monaco\",\n      }),\n\n      extendsBundlerOptions: (bundlerOptions: unknown, app): void => {\n        addViteSsrNoExternal(bundlerOptions, app, [\n          \"@vuepress/helper\",\n          \"fflate\",\n          \"vuepress-shared\",\n        ]);\n\n        if (status.chartjs) {\n          addViteOptimizeDepsExclude(\n            bundlerOptions,\n            app,\n            \"chart.js/auto/auto.mjs\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"chart.js\");\n        }\n\n        if (status.echarts) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"echarts\");\n          addViteSsrExternal(bundlerOptions, app, \"echarts\");\n        }\n\n        if (status.flowchart) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"flowchart.ts\");\n          addViteSsrExternal(bundlerOptions, app, \"flowchart.ts\");\n        }\n\n        if (status.markmap) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, [\n            \"markmap-lib\",\n            \"markmap-toolbar\",\n            \"markmap-view\",\n          ]);\n          addViteSsrExternal(bundlerOptions, app, [\n            \"markmap-lib\",\n            \"markmap-toolbar\",\n            \"markmap-view\",\n          ]);\n        }\n\n        if (status.mermaid) {\n          addViteOptimizeDepsExclude(\n            bundlerOptions,\n            app,\n            \"mermaid/dist/mermaid.esm.min.mjs\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"mermaid\");\n        }\n\n        if (status.kotlinPlayground) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"kotlin-playground\");\n          addViteOptimizeDepsNeedsInterop(\n            bundlerOptions,\n            app,\n            \"kotlin-playground\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"kotlin-playground\");\n        }\n\n        if (status.sandpack) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"sandpack-vue3\");\n          addViteSsrExternal(bundlerOptions, app, \"sandpack-vue3\");\n        }\n\n        if (status.vuePlayground) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"@vue/repl\");\n          addViteSsrExternal(bundlerOptions, app, \"@vue/repl\");\n\n          // Hide webpack warnings\n          chainWebpack(bundlerOptions, app, (config) => {\n            // TODO: Probably need to fix upstream\n            config.resolve.set(\"conditionNames\", [\n              \"browser\",\n              \"import\",\n              \"module\",\n            ]);\n            config.module.set(\"exprContextCritical\", false);\n            config.module.set(\"unknownContextCritical\", false);\n          });\n        }\n      },\n\n      extendsMarkdown: (md): void => {\n        if (status.flowchart) {\n          md.use(flowchart);\n          // TODO: Remove this in v2 stable\n          // eslint-disable-next-line @typescript-eslint/no-deprecated\n          if (legacy) md.use(legacyFlowchart);\n        }\n        if (status.chartjs) {\n          md.use(chartjs);\n          if (legacy) md.use(chart);\n        }\n        if (status.echarts) md.use(echarts);\n        if (isArray(options.plantuml)) md.use(plantuml, options.plantuml);\n        else if (options.plantuml) md.use(plantuml);\n        if (options.demo) {\n          md.use(normalDemo);\n          md.use(vueDemo);\n          md.use(reactDemo);\n          // TODO: Remove this in v2 stable\n          if (legacy) {\n            // eslint-disable-next-line @typescript-eslint/no-deprecated\n            md.use(legacyCodeDemo);\n            // eslint-disable-next-line @typescript-eslint/no-deprecated\n            md.use(mdDemo);\n          }\n        }\n        if (status.markmap) md.use(markmap);\n        if (status.mermaid) md.use(mermaid);\n        if (isPlainObject(options.playground)) {\n          const { presets = [], config = {} } = options.playground;\n\n          presets.forEach((preset) => {\n            if (preset === \"ts\")\n              md.use(playground, getTSPlaygroundPreset(config.ts ?? {}));\n            else if (preset === \"vue\")\n              md.use(playground, getVuePlaygroundPreset(config.vue ?? {}));\n            else if (preset === \"unocss\")\n              md.use(playground, getUnoPlaygroundPreset(config.unocss ?? {}));\n            else if (isPlainObject(preset)) md.use(playground, preset);\n          });\n        }\n        if (status.kotlinPlayground) md.use(kotlinPlayground);\n        if (status.vuePlayground) md.use(vuePlayground);\n        if (status.sandpack) md.use(sandpack);\n      },\n\n      clientConfigFile: (app) =>\n        prepareConfigFile(app, options, status, legacy),\n    };\n  };\n"],"names":["chartjs","md","container","tokens","index","title","key","config","configType","i","type","content","info","encodeData","CODE_DEMO_DEFAULT_SETTING","getPlugin","name","code","language","normalDemo","vueDemo","reactDemo","echartsRender","token","echarts","fence","args","isJavaScript","SUPPORTED_PRESETS","flowchartRender","preset","flowchart","realInfo","escapeHtml","unsafeHTML","AT_MARKER","VALID_MARKERS","getPlaygroundRule","state","startLine","endLine","silent","start","max","pos","markerCount","markup","params","containerName","nextLine","autoClosed","oldParent","oldLineMax","openToken","closeToken","atMarkerRule","markerName","atMarker","openMakerMatched","defaultPropsGetter","playgroundData","playground","component","propsGetter","marker","hash","currentKey","foundSettings","block","props","entries","attr","value","e","compress","o","r","n","t","s","p","u","c","a","l","f","h","d","m","v","compressToEncodedURIComponent","optionDeclarations","__dirname","getDirname","PLUGIN_NAME","logger","Logger","CLIENT_FOLDER","ensureEndingSlash","path","isInstalled","pkg","hint","isModuleAvailable","getURL","compilerOptions","queryString","item","option","isDef","isPlainObject","getTSPlaygroundPreset","service","files","settings","tsFiles","keys","endsWith","link","deepAssign","VUE_SUPPORTED_EXTENSIONS","DEFAULT_VUE_CDN","DEFAULT_VUE_SERVER_RENDERER_CDN","getVuePlaygroundPreset","options","localSettings","fileInfo","fromEntries","ext","importMap","getUrlJoinParam","sign","encode","generateUnoURL","inputHTML","customCSS","customConfigRaw","getUnoPlaygroundPreset","htmlFiles","cssFiles","configFiles","simplifyParam","inputFiles","kotlinPlayground","markmapRender","markmap","mermaidRenderer","getMermaidContent","diagram","indent","originalFrontmatter","rest","frontmatter","line","getMermaid","DIAGRAM_MAP","mermaid","fenceInfo","plantuml","_plantuml","encodeFiles","vuePlayground","file","getAttrs","str","matches","arrAttrs","sandpackData","jsRunner","jsCode","sandpackRule","firstSpace","sandpack","attrs","arr","foundOptions","foundSetup","fileAttrs","chart","_options","env","convertOptions","deprecatedLogger","droppedLogger","createConverter","colors","legacyCodeDemo","mdDemo","demo","_env","self","legacyFlowchart","uml","prepareConfigFile","app","status","legacy","imports","enhances","mdEnhancePlugin","getStatus","pkgs","useSassPalettePlugin","bundlerOptions","addViteSsrNoExternal","addViteOptimizeDepsExclude","addViteSsrExternal","addViteOptimizeDepsInclude","addViteOptimizeDepsNeedsInterop","chainWebpack","isArray","presets"],"mappings":"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"}