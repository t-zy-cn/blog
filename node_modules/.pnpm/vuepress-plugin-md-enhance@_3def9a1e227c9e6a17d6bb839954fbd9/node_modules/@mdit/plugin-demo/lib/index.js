const q=(c,{name:k="demo",openRender:g=(a,e)=>`<details><summary>${a[e].info.trim()}</summary>
`,closeRender:I=()=>`</details>
`,codeRender:d,contentOpenRender:b,contentCloseRender:_,showCodeFirst:h=!1}={})=>{const a=(e,o,T,A)=>{const l=e.bMarks[o]+e.tShift[o],y=e.eMarks[o],u=e.sCount[o];if(e.src.charAt(l)!==":")return!1;let t=l+1;for(;t<=y&&e.src.charAt(t)===":";)t++;const C=t-l;if(C<3)return!1;const S=e.src.slice(l,t),M=e.src.slice(t,y);if(M.trim().split(" ",2)[0]!==k)return!1;if(A)return!0;let r=o+1,v=!1;for(;r<T;r++){const s=e.bMarks[r]+e.tShift[r],i=e.eMarks[r];if(s<i&&e.sCount[r]<u)break;if(e.sCount[r]===u&&e.src[s]===":"){for(t=s+1;t<=i&&e.src[t]===":";t++);if(t-s>=C&&(t=e.skipSpaces(t),t>=i)){v=!0;break}}}const $=e.parentType,j=e.lineMax,O=e.blkIndent;e.parentType="demo",e.lineMax=r,e.blkIndent=u;const p=M.trim().slice(k.length).trim(),n=e.push("demo_open","div",1);n.markup=S,n.block=!0,n.info=p,n.map=[o,r];const x=()=>{const s=e.push(d?"demo_code":"fence","code",0),i=e.sCount[o];s.content=e.src.split(/\n\r?/).slice(o+1,r).map(f=>f.substring(i)).filter(f=>!/^<!-- #include-env-(?:start: .*|end) -->$/.test(f)).join(`
`).replace(/^\n+/,"").replace(/\n*$/,`
`),s.map=[o,e.line],(s.meta??={}).title=p,d||(s.info="md")};h&&x();const R=e.push("demo_content_open","div",1);R.attrPush(["class","demo-content"]),R.block=!0,n.map=[o,r],e.md.block.tokenize(e,o+1,r);const P=e.push("demo_content_close","div",-1);P.block=!0,h||x();const m=e.push("demo_close","div",-1);return m.markup=e.src.slice(l,t),m.block=!0,m.info=p,e.parentType=$,e.lineMax=j,e.blkIndent=O,e.line=r+(v?1:0),!0};c.block.ruler.before("fence","demo",a,{alt:["paragraph","reference","blockquote","list"]}),c.renderer.rules.demo_open=g,c.renderer.rules.demo_close=I,d&&(c.renderer.rules.demo_code=d),b&&(c.renderer.rules.demo_content_open=b),_&&(c.renderer.rules.demo_content_close=_)};export{q as demo};
//# sourceMappingURL=index.js.map
